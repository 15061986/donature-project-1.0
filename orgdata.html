<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/index.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <title>Donature</title>
    <title>Document</title>
</head>
<body>
    
    <section class="contact">
        <div> 
            <h5 style="text-align: center; margin-top: 20px; margin-bottom: 20px; font-family:Arial, Helvetica, sans-serif;">Please complete the form below to add your organisation to our database and create a new project for our map.</h5>
            <form method="post" action="orgdata.html">
                <div class="row">
                    <div class="col-12 col-sm-6">
                        <input id="org" class="form-control mb-3 mb-sm-0" type="text" name="organization" placeholder="ORGANIZATION NAME*" required/>
                        <input id="contact" class="form-control mb-3 mb-sm-0" type="text" name="person" placeholder="CONTACT PERSON"/>
                        <input id="mail" class="form-control mb-3 mb-sm-0" type="email" name="email" placeholder="E-MAIL*" required/>
                        <select id="cat" class="form-control mb-3 mb-sm-0" name="category"  required>
                            <option selected disabled>CHOOSE THE PROJECT CATEGORY</option>
                            <option disabled>---------</option>
                            <option>ANIMALS</option>
                            <option>FORESTS</option>
                            <option>FISHERIES</option>
                            <option>OCEANS</option>
                            <option>CITIES</option>
                            <option>CLIMATE CHANGE</option>
                            <option>EDUCATION</option>
                            <option>WATER AND SANITATION</option>
                            <option>FOOD SECURITY</option>
                            <option>MIGRANT INTEGRATION</option>
                            <option>LABOUR PROTECTION</option>
                            <option>CHILDREN</option>
                            <option>RACIAL JUSTICE</option>
                            <option>GENDER EQUALITY</option>
                         </select>
                         
                         <select id="vol" class="form-control mb-3 mb-sm-0" name="volunteers" id="volunteers" required>
                            <option selected disabled>VOLUNTEERS NEEDED?</option>
                            <option disabled>---------</option>
                            <option value="1">NO</option>
                            <option value="2">YES</option>
                        </select>
                    
                        <h6 id="descr" style="margin-left:2%; margin-top: 1%; display: none;">CHOOSE DATE RANGE</h6>
                        <input class="form-control mb-3 mb-sm-0" type="text" name="daterange" id="daterange" value="DATE" style="display: none;" />
                        
                        <script>
                            $(function() {
                            $('input[name="daterange"]').daterangepicker({
                                opens: 'left',
                                "drops": "up"
                            }, function(start, end, label) {
                                console.log("A new date selection was made: " + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD'));
                            });
                            });
                            </script>
                        
                            <script>
                            $("#volunteers").change(function(){
                                if($(this).val() == 2){
                                    $("#descr").show();
                                    $("#daterange").show();
                               }else{
                                    $("#descr").hide();
                                    $("#daterange").hide();
                                     }
                            });
                        </script>

                    </div>
                    <div class="col-12 col-sm-6">
                        <textarea id="description" class="form-control contact-message" name="message" placeholder="PROJECT DESCRIPTION*" required></textarea>
                    </div>
                </div>
                <div class="text-center">
                    <button id="btn" type="button" class=" mt-3 btn btn-dark">Submit</button>
                </div>
            </form>
        </div>
    </section>
<script>
    let orgs =[];
    const addNewOrg = function(ev){
        ev.preventDefault(); //to stop the form submitting
        let org = {
            id: Date.now(),
            contact: document.getElementById("contact").value,
            mail: document.getElementById("mail").value,
            organisation: document.getElementById("org").value,
            category: document.getElementById("cat").value,
            volunteers: document.getElementById("vol").value,
            daterange: document.getElementById("daterange").value,
            description: document.getElementById("description")
        }
        orgs.push(org);
        document.forms[0].reset(); //to clear the form for the next entries

        //for display purposes only
        console.log({orgs});
    }   
        //saving to local storage

        document.addEventListener("DOMContentLoaded", function(){
            document.getElementById("btn").addEventListener("click",addNewOrg);
});
    
</script>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"> </script>
</body>
</html>